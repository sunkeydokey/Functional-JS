# 일급 함수와 응용형 프로그래밍

함수를 일급 요소로 취급하는 것이 함수형 프로그래밍의 기본

## 2.1 일급 함수의 특징

- 일반적으로 함수형 프로그래밍은 관계형 정의를 포함하는데 자바스크립트는 그렇지 않음
- 그러나 대부분의 함수형 프로그래밍의 관계형 정의가 공유하는 일급 함수를 만들고 사용할 수 있는 편의를 제공한다는 점은 자바스크립트도 같음
- `일급`이라는 용어는 모든 것을 값으로 취급한다는 의미가 내포됨

```js
const returnsNumber = function () {
  return 123123;
}; // 변수에 함수를 저장할 수 있음

const includesFunction = ['element', function () {}]; // 배열 원소로 함수를 저장할 수 있음

const hasFunction = {
  someKey: someValue,
  someFunc: function () {},
}; // 함수를 객체에 저장할 수 있음

(function () {
  return 1;
})() + 2; // 필요할 때 함수를 만들 수 있음

function hasCallback(n, func) {
  return func(n) + n;
} // 함수에 함수를 전달할 수 있음

function returnsFunction() {
  return function someFunction() {};
} // 함수가 함수를 반환할 수 있음
```

함수가 함수를 인자로 받거나 결과로 함수를 반환하는 경우 이를 고차 함수라고 부른다.

### 2.1.1 자바스크립트의 다중 패러다임

자바스크립트는 순수한 함수형 프로그래밍 언어는 아니며 다음과 같은 패러다임도 제공함

#### 명령형 프로그래밍

- 동작을 자세히 설명하는 방식에 기반한 프로그래밍
- 알고리즘 세부 구현의 정교함을 특징으로 함
- 프로그램의 상태를 직접 관찰하고 조작하는 경향
- 규격 명세와 일치하는 수준으로 동작하므로 대부분 일회용 코드이며 재사용하기가 어려움

#### 프로토타입 기반 객체 지향 프로그래밍

- 프로토타입형 객체와 인스턴스에 기반한 프로그래밍
- 기존의 객체가 특화된 인스턴스의 프로토타입 역할을 함

#### 메타 프로그래밍

- 자바스크립트의 실행 모델의 기반을 변경하는 프로그래밍
- 어어떤 것이 해석되는 방식을 바꾸도록 코드를 구현하는 것

```js
function gen2D(x, y) {
  this.x = x;
  this.y = y;
}

function gen3D(x, y, z) {
  gen2D.call(this, x, y);
  this.z = z;
}

new gen3D(10, 20, 10);
// => {x: 10, y:20, z: 10}
// gen3D에서 this.x, this.y를 설정하지 않아도 gen2D를 호출해 this를 동적으로 바인딩함으로써 자신의 프로퍼티를 생성할 수 있음
```

## 2.2 응용형 프로그래밍

- 응용형 프로그래밍은 함수 A 내부의 함수 B를 호출하는 형식으로 이루어짐
- ex) map, filter, reduce 등

### 2.2.1 컬렉션 중심 프로그래밍

- 컬렉션에 포함된 많은 아이템들을 처리할 때 함수형 프로그램이 유용함
- 일반적인 처리 방법을 만들어서 재사용할 수 있는 포괄적인 함수 집합을 구축

```js
const someCollection = [{ num: 1 }, { num: 2 }, { num: 3 }];
someCollection.map((item) => item.num);
// => [1, 2, 3];
```

## 2.3 데이터 고찰

객체의 키/값 탐색을 통해 데이터를 연상 데이터 모델링해야 함  
집필 시기에 for ...in과 인덱싱을 활용한 언더스코어 라이브러리로 구현해야 했던 설명과 코드들이 Map 자료형과 Object자료형의 메서드들로 해결이 된다.

## 2.4 요약

일급 함수란 다음과 같은 특징을 갖는, 값으로 취급할 수 있는 함수이다.

- 변수에 저장할 수 있음
- 배열 요소로 저장할 수 있음
- 객체 필드에 저장할 수 있음
- 원하는 만큼 필요한 때에 생성할 수 있음
- 다른 함수에 전달할 수 있음
- 함수로부터 반환될 수 있음
